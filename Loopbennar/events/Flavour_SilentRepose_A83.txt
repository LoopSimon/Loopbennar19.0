namespace = silentrepose

#Refugee Events
country_event = { #Starter
	id = silentrepose.1
	title = silentrepose.1.t
	desc = silentrepose.1.d
	picture = ORC_WITH_AXE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = A83
	}
	option = {
		name = silentrepose.1.a
		#customtooltip
		hidden_effect = {
			country_event = {
				id = silentrepose.2
				days = 30
			}
		}
	}
}

country_event = { #First Wave
	id = silentrepose.2
	title = silentrepose.2.t
	desc = silentrepose.2.d
	picture = ORC_WITH_AXE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		
		tag = A83
	}
	option = {
		name = silentrepose.2.a
		350 = {
			add_base_manpower = 2
		}
		unlock_merc_company = { merc_company = repose_monastery_guards }
		hidden_effect = {
			country_event = {
				id = silentrepose.3
				days = 180
				random = 30
			}
		}
	}
}

country_event = { #Second Wave
	id = silentrepose.3
	title = silentrepose.3.t
	desc = silentrepose.3.d
	picture = ORC_WITH_AXE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = A83
	}
	option = {
		name = silentrepose.3.a
		add_devotion = -10
		350 = {
			add_base_production = 1
			add_base_tax = 1
		}
		add_country_modifier = {
			name = A83_refugee_donations
			duration = 1825
		}
		add_opinion = {
			who = A32
			modifier = A83_ibevar_cruelty
		}
		hidden_effect = {
			country_event = {
				id = silentrepose.4
				days = 180
				random = 30
			}
		}
	}
}

country_event = { #Third Wave
	id = silentrepose.4
	title = silentrepose.4.t
	desc = silentrepose.4.d
	picture = ORC_WITH_AXE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = A83
	}

	option = {
		name = silentrepose.4.a
		add_country_modifier = {
			name = A83_horrors_and_hate
			duration = 1825
		}
		set_country_flag = A83_third_wave
	}
}

country_event = { #Ibevar Dec
	id = silentrepose.5
	title = silentrepose.5.t
	desc = silentrepose.5.d
	picture = ORC_WITH_AXE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		
	}

	option = {
		name = silentrepose.5.a
		ai_chance = { factor = 100 }	
		declare_war_with_cb = {
			who = A83
			casus_belli = defend_country_faith
		}
	}
}

#Mission events
country_event = { 	#Reposer Institution
	id = silentrepose.6
	title = silentrepose.6.t
	desc = silentrepose.6.d
	picture = ORC_WITH_AXE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = A83
	}

	option = {
		name = silentrepose.6.a
		add_government_reform = A83_sanctuary_of_the_ancients
	}
}

country_event = { #Request imperial Aid
	id = silentrepose.7
	title = silentrepose.7.t
	desc = silentrepose.7.d
	picture = ORC_WITH_AXE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = A83
	}

	option = {
		name = silentrepose.7.a
		add_treasury = -200
		emperor = {
			add_treasury = 200
		}
		north_ibevar_area = {
			remove_province_modifier = A83_torn_by_war
			add_province_modifier = {
				name = A83_recovering_from_war
				duration = 1825
			}
		}
		south_ibevar_area = {
			remove_province_modifier = A83_torn_by_war
			add_province_modifier = {
				name = A83_recovering_from_war
				duration = 1825
			}
		}
		314 = {
			remove_province_modifier = A83_torn_by_war
			add_province_modifier = {
				name = A83_recovering_from_war
				duration = 1825
			}
		}
	}
}

country_event = { #Propose Imperial Integration
	id = silentrepose.8 
	title = silentrepose.8.t
	desc = silentrepose.8.d
	picture = ORC_WITH_AXE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = A83
	}

	option = {
		name = silentrepose.8.a
		if = {
			limit = { exists = A60 }
			314 = { cede_province = A60 }
		}
		else = {
			314 = { cede_province = A77 }
		}
		ROOT = {
			set_in_empire = yes
		}
	}
}

country_event = { #Weighing the options
	id = silentrepose.9
	title = silentrepose.9.t
	desc = silentrepose.9.d
	picture = ORC_WITH_AXE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = A83
	}

	option = { #Vampires
		name = silentrepose.9.a
		trigger = {
			NOT = { religion = infernal_court }
		}
		set_country_flag = A83_reelection_enabled
		set_country_flag = A83_vampiric_path
		country_event = {
			id = vampires_estate_events.11
		}
	}

	option = { #Infernal
		name = silentrepose.9.b 
		set_country_flag = A83_reelection_enabled
		set_country_flag = A83_infernal_path
		if = {
			limit = { NOT = { religion = infernal_court } }
			change_religion = infernal_court
			add_country_modifier = {
				name = conversion_zeal
				duration = 3650
			}
		}
		random_owned_province = {
			change_religion = infernal_court
		}
		random_owned_province = {
			change_religion = infernal_court
		}
		random_owned_province = {
			change_religion = infernal_court
		}
		random_owned_province = {
			change_religion = infernal_court
		}
		random_owned_province = {
			change_religion = infernal_court
		}
	}

	option = { #Necromancy
		name = silentrepose.9.c
		trigger = {
			NOT = { religion = infernal_court }
		}
		set_country_flag = A83_necromancer_path
		add_government_reform = A83_the_undying_elder
		if = {
			limit = {
				 NOT = {
					Or = {
						has_ruler_flag = necromancy_2
						has_ruler_flag = necromancy_3
					}
				}
			}
			set_ruler_flag = necromancy_2
			set_ruler_flag = necromancy_1
		}
		else = {
			add_adm_power = 50
			add_dip_power = 50
			add_mil_power = 50
		}
	}

	option = { #Forebear Purist
		name = silentrepose.9.d
		trigger = {
			NOT = { religion = infernal_court }
		}
		set_country_flag = A83_reelection_enabled
		set_country_flag = A83_forebear_purist_path
		remove_country_modifier = A83_chasing_immortality
		random_owned_province = {
			change_religion = infernal_court
		}
		random_owned_province = {
			change_religion = infernal_court
		}
		random_owned_province = {
			add_devastation = 10
			add_base_tax = -1
		}
		random_owned_province = {
			add_devastation = 10
			add_base_manpower = -1
		}
	}
}

country_event = { #Reposer Conscription
	id = silentrepose.10
	title = silentrepose.10.t
	desc = silentrepose.10.d
	picture = ORC_WITH_AXE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = A83
	}

	option = {
		name = silentrepose.10.a
		add_country_modifier = {
			name = A83_elder_veterans
			duration = -1
		}
	}

	option = {
		name = silentrepose.10.b
		add_country_modifier = {
			name = A83_elder_officers
			duration = -1
		}
	}

	option = {
		name = silentrepose.10.c
		add_mil_power = 250
	}

}

country_event = { #Death and honor
	id = silentrepose.11
	title = silentrepose.11.t
	desc = silentrepose.11.d
	picture = ORC_WITH_AXE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = A83
	}

	option = {
		name = silentrepose.11.a
		trigger = {
			has_country_flag = A83_vampiric_path
		}
		add_country_modifier = {
			name = A83_vampire_soldiers
			duration = -1
		}
	}

	option = {
		name = silentrepose.11.b
		trigger = {
			has_country_flag = A83_infernal_path
		}
		add_country_modifier = {
			name = A83_demon_soldiers
			duration = -1
		}
	}

	option = {
		name = silentrepose.11.c
		trigger = {
			has_country_flag = A83_necromancer_path
		}
		add_country_modifier = {
			name = A83_necromancer_soldiers
			duration = -1
		}
	}

	option = {
		name = silentrepose.11.d
		trigger = {
			has_country_flag = A83_forebear_purist_path
		}
		add_country_modifier = {
			name = A83_purist_soldiers
			duration = -1
		}
	}
}

country_event = { 
	id = silentrepose.12
	title = silentrepose.12.t
	desc = silentrepose.12.d
	picture = ORC_WITH_AXE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = A83
	}

	option = {
		name = silentrepose.12.a
		
	}
}



#Election Event
country_event = {
	id = silentrepose.45
	title = silentrepose.45.t
	desc = silentrepose.45.d
	picture = ORC_WITH_AXE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = A83
		has_reform = A83_sanctuary_of_the_ancients

	}

	option = {
		name = silentrepose.45.a
		add_treasury = 100
	}
}













#Tower of the repose disasterevents
country_event = {
	id = silentrepose.50
	title = silentrepose.50.t
	desc = silentrepose.50.d
	picture = ORC_WITH_AXE_eventPicture

	fire_only_once = yes
	is_triggered_only = yes
	
	major = yes

	trigger = {
		
		tag = A83
	}
	option = {
		name = silentrepose.50.a
		
	}
}
